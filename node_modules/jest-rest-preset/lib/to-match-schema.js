"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.toMatchSchema = void 0;
const jest_matcher_utils_1 = require("jest-matcher-utils");
const validate_1 = require("./validate");
exports.toMatchSchema = (data, schema) => {
    const schemaValid = validate_1.validate(data, schema);
    const pass = schemaValid.valid;
    const errorText = schemaValid.errorText;
    if (pass) {
        return {
            pass,
            message: () => errorText,
        };
    }
    return {
        pass,
        message: () => {
            return [
                jest_matcher_utils_1.matcherHint(`.toMatchSchema`, 'data', 'schema'),
                '',
                `Error matching schema:`,
                `  ${jest_matcher_utils_1.printReceived(errorText)}`,
            ].join('\n');
        },
    };
};
